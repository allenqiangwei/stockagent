"""Batch KDJ experiment runner â€” creates 50 experiments via AI Lab API.

Each experiment generates 8 strategy variants via DeepSeek, totaling 400 strategies.
Results are collected and summarized after all experiments complete.

Usage:
    python scripts/kdj_batch_experiments.py [--api-url http://localhost:8050]
"""

import json
import sys
import time
import argparse
import requests
from datetime import datetime

API_BASE = "http://localhost:8050/api"

# â”€â”€ 50 KDJ Experiment Themes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

EXPERIMENTS = [
    # â•â•â• ç¬¬1ç»„ï¼šKDJåŸºç¡€å½¢æ€ï¼ˆ5ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJé‡‘å‰ä¹°å…¥ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJæŒ‡æ ‡Kçº¿ä»ä¸‹æ–¹ç©¿è¶ŠDçº¿å½¢æˆé‡‘å‰æ—¶ä¹°å…¥ã€‚è¦æ±‚Kå€¼å’ŒDå€¼éƒ½åœ¨ä½ä½åŒºåŸŸï¼ˆ20-50ä¹‹é—´ï¼‰ï¼ŒJå€¼å‘ä¸Šæ‹å¤´ã€‚é‡‘å‰å‘ç”Ÿåœ¨ä½ä½æ›´æœ‰æ•ˆã€‚å–å‡ºä½¿ç”¨KDJæ­»å‰æˆ–è¶…ä¹°åŒºåŸŸã€‚è¯·ç”¨é»˜è®¤å‚æ•°(9,3,3)ç”Ÿæˆä¸åŒé˜ˆå€¼å’Œé£æ ¼çš„å˜ä½“ã€‚",
    },
    {
        "theme": "KDJæ­»å‰å–å‡ºç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä»¥KDJæ­»å‰ï¼ˆKçº¿ä»ä¸Šæ–¹ç©¿è¶ŠDçº¿ï¼‰ä½œä¸ºæ ¸å¿ƒå–å‡ºä¿¡å·ã€‚ä¹°å…¥ä¿¡å·ä½¿ç”¨å…¶ä»–æŒ‡æ ‡ç¡®è®¤ï¼ˆå¦‚RSIã€MACDæˆ–å‡çº¿ï¼‰ã€‚é‡ç‚¹å…³æ³¨æ­»å‰å‡ºç°åœ¨é«˜ä½åŒºåŸŸï¼ˆK>70ï¼‰æ—¶çš„å–å‡ºæ•ˆæœã€‚ä½¿ç”¨ä¸åŒçš„è¾…åŠ©ä¹°å…¥æ¡ä»¶ç”Ÿæˆå˜ä½“ã€‚",
    },
    {
        "theme": "KDJè¶…ä¹°è¶…å–åè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šåˆ©ç”¨KDJçš„è¶…ä¹°è¶…å–åŒºåŸŸåšåè½¬äº¤æ˜“ã€‚è¶…å–åŒº(K<20,J<0æˆ–J<-10)ä¹°å…¥,è¶…ä¹°åŒº(K>80,J>100æˆ–J>110)å–å‡ºã€‚å…³é”®æ˜¯ç­‰å¾…è¶…å–åKçº¿æ‹å¤´å‘ä¸Šç¡®è®¤åè½¬ã€‚ç”Ÿæˆä¸åŒè¶…ä¹°è¶…å–é˜ˆå€¼çš„å˜ä½“ï¼ŒåŒ…æ‹¬æç«¯è¶…å–(K<10)å’Œæ¸©å’Œè¶…å–(K<30)ã€‚",
    },
    {
        "theme": "Jå€¼æç«¯åè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šJå€¼æ˜¯KDJä¸­æœ€æ•æ„Ÿçš„æŒ‡æ ‡,å…¶èŒƒå›´å¯ä»¥è¶…å‡º0-100ã€‚å½“Jå€¼è·Œè‡³è´Ÿå€¼åŒºåŸŸï¼ˆå¦‚J<-10, J<0, J<5ï¼‰æ—¶è¡¨ç¤ºæåº¦è¶…å–ï¼Œä¹°å…¥ä¿¡å·å¼ºçƒˆã€‚å½“Jå€¼è¶…è¿‡100ï¼ˆå¦‚J>100, J>105, J>110ï¼‰æ—¶è¡¨ç¤ºæåº¦è¶…ä¹°ã€‚åˆ©ç”¨Jå€¼çš„æç«¯å€¼åšåè½¬äº¤æ˜“ã€‚ç”Ÿæˆä¸åŒJå€¼é˜ˆå€¼çš„å˜ä½“ã€‚",
    },
    {
        "theme": "KDJä¸‰çº¿ç²˜åˆçªç ´ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå½“KDJçš„Kã€Dã€Jä¸‰æ¡çº¿åœ¨æŸä¸€åŒºåŸŸç²˜åˆï¼ˆå·®å€¼å¾ˆå°ï¼‰ï¼Œè¯´æ˜å¤šç©ºåŠ›é‡å‡è¡¡ï¼Œå³å°†é€‰æ‹©æ–¹å‘ã€‚å½“ç²˜åˆåKå€¼å’ŒJå€¼åŒæ—¶ä¸Šç©¿Då€¼æ—¶ä¹°å…¥ã€‚å¯ä»¥é€šè¿‡Kå’ŒDçš„å·®å€¼<5æ¥åˆ¤æ–­ç²˜åˆã€‚ç²˜åˆä½ç½®åœ¨50é™„è¿‘æˆ–ä½ä½æ›´æœ‰ä»·å€¼ã€‚",
    },

    # â•â•â• ç¬¬2ç»„ï¼šKDJå‚æ•°å˜ä½“ï¼ˆ5ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJçŸ­å‘¨æœŸ(6,3,3)å¿«é€Ÿäº¤æ˜“ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨çŸ­å‘¨æœŸKDJå‚æ•°(6,3,3)æ•æ‰çŸ­æœŸæ³¢åŠ¨ã€‚çŸ­å‘¨æœŸKDJæ›´æ•æ„Ÿï¼Œé‡‘å‰æ­»å‰ä¿¡å·æ›´é¢‘ç¹ï¼Œé€‚åˆçŸ­çº¿äº¤æ˜“ã€‚ä¹°å…¥åœ¨ä½ä½é‡‘å‰(K<30æ—¶K>D)ï¼Œå–å‡ºåœ¨é«˜ä½æ­»å‰ã€‚æ­é…çŸ­æœŸå‡çº¿(MA5,MA10)åšè¶‹åŠ¿è¿‡æ»¤ã€‚æŒä»“æ—¶é—´è¾ƒçŸ­(5-10å¤©)ã€‚",
    },
    {
        "theme": "KDJä¸­å‘¨æœŸ(14,3,3)è¶‹åŠ¿ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨ä¸­å‘¨æœŸKDJå‚æ•°(14,3,3)è¿‡æ»¤çŸ­æœŸå™ªéŸ³ã€‚ä¸­å‘¨æœŸKDJä¿¡å·æ›´ç¨³å®šï¼Œå‡ä¿¡å·è¾ƒå°‘ã€‚åœ¨Kå€¼ä½äº30æ—¶çš„é‡‘å‰ä¹°å…¥ï¼Œåœ¨Kå€¼é«˜äº70æ—¶çš„æ­»å‰å–å‡ºã€‚æ­é…ä¸­æœŸå‡çº¿(MA20,MA60)ç¡®è®¤è¶‹åŠ¿æ–¹å‘ã€‚",
    },
    {
        "theme": "KDJé•¿å‘¨æœŸ(21,5,5)æ³¢æ®µç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨é•¿å‘¨æœŸKDJå‚æ•°(21,5,5)æ•æ‰ä¸­é•¿æœŸæ³¢æ®µæœºä¼šã€‚é•¿å‘¨æœŸKDJä¿¡å·å°‘ä½†å‡†ç¡®ç‡é«˜ã€‚åœ¨Kå€¼ä»æä½ä½(<20)å›å‡å¹¶é‡‘å‰æ—¶ä¹°å…¥ã€‚æŒä»“æ—¶é—´è¾ƒé•¿(15-30å¤©)ã€‚æ­é…é•¿æœŸå‡çº¿(MA60)ç¡®è®¤å¤§è¶‹åŠ¿ã€‚",
    },
    {
        "theme": "KDJ(14,5,5)ç¨³å¥æ³¢æ®µç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨(14,5,5)å‚æ•°çš„KDJï¼Œå¹³æ»‘åº¦æ›´é«˜ã€‚åœ¨Kå€¼ä½äº25ä¸”Jå€¼ä½äº10æ—¶ä¹°å…¥ï¼Œç­‰å¾…é‡‘å‰ç¡®è®¤ã€‚å–å‡ºåœ¨Kå€¼é«˜äº75æ—¶ã€‚æ­é…MACDæˆ–RSIåšåŒé‡ç¡®è®¤ï¼Œå‡å°‘å‡ä¿¡å·ã€‚é€‚åˆä¸­ç­‰æŒä»“å‘¨æœŸ(10-20å¤©)ã€‚",
    },
    {
        "theme": "KDJå¤šå‚æ•°å¯¹æ¯”ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå¯¹æ¯”ä¸åŒKDJå‚æ•°ç»„åˆçš„æ•ˆæœã€‚ç”Ÿæˆ8ä¸ªç­–ç•¥åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„KDJå‚æ•°ï¼š(6,3,3)è¶…çŸ­çº¿ã€(9,3,3)æ ‡å‡†ã€(9,5,5)å¹³æ»‘æ ‡å‡†ã€(12,3,3)ä¸­çŸ­çº¿ã€(14,3,3)ä¸­çº¿ã€(14,5,5)å¹³æ»‘ä¸­çº¿ã€(18,3,3)ä¸­é•¿çº¿ã€(21,5,5)é•¿çº¿ã€‚æ¯ä¸ªç­–ç•¥ä½¿ç”¨ç›¸ä¼¼çš„ä¹°å–é€»è¾‘(ä½ä½é‡‘å‰ä¹°,é«˜ä½æ­»å‰å–)ä½†ä¸åŒå‚æ•°ã€‚",
    },

    # â•â•â• ç¬¬3ç»„ï¼šKDJ+MACDç»„åˆï¼ˆ5ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJé‡‘å‰+MACDé‡‘å‰åŒé‡‘å‰ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå’ŒMACDåŒæ—¶å‡ºç°é‡‘å‰ä¿¡å·æ—¶ä¹°å…¥ï¼ŒåŒé‡ç¡®è®¤æé«˜å‡†ç¡®ç‡ã€‚è¦æ±‚KDJçš„K>Dï¼ˆé‡‘å‰ï¼‰ï¼ŒåŒæ—¶MACDæŸ±çŠ¶å›¾(MACD_hist)>0æˆ–MACDçº¿>ä¿¡å·çº¿(MACD>MACD_signal)ã€‚Kå€¼åœ¨ä½ä½(<40)æ—¶ä¿¡å·æ›´æœ‰æ•ˆã€‚",
    },
    {
        "theme": "KDJè¶…å–+MACDåº•èƒŒç¦»ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJè¿›å…¥è¶…å–åŒº(K<20æˆ–J<0)ï¼ŒåŒæ—¶MACDæŸ±çŠ¶å›¾ç”±è´Ÿè½¬æ­£(MACD_hist>0)ï¼Œè¡¨ç¤ºåº•éƒ¨å³å°†åè½¬ã€‚è¿™æ˜¯ä¸€ç§åº•éƒ¨ç¡®è®¤ç­–ç•¥ã€‚å–å‡ºä½¿ç”¨KDJè¶…ä¹°æˆ–MACDæŸ±çŠ¶å›¾è½¬è´Ÿã€‚",
    },
    {
        "theme": "KDJ+MACDè¶‹åŠ¿è·Ÿè¸ªç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šç”¨MACDåˆ¤æ–­å¤§è¶‹åŠ¿æ–¹å‘(MACD>0è¡¨ç¤ºå¤šå¤´è¶‹åŠ¿)ï¼Œåœ¨å¤šå¤´è¶‹åŠ¿ä¸­ä½¿ç”¨KDJä½ä½é‡‘å‰åšä¹°å…¥æ—¶æœºã€‚MACD>0ä¸”MACD_hist>0æ—¶ï¼ŒKDJçš„K<40ä¸”K>Dæ—¶ä¹°å…¥ã€‚è¿™æ ·æ—¢æœ‰è¶‹åŠ¿ä¿æŠ¤åˆæœ‰ç²¾ç¡®å…¥åœºã€‚",
    },
    {
        "theme": "KDJ+MACDæŸ±çŠ¶å›¾åŠ¨é‡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šç»“åˆKDJå’ŒMACDæŸ±çŠ¶å›¾çš„åŠ¨é‡å˜åŒ–ã€‚å½“KDJçš„Jå€¼ä»ä½ä½å›å‡(J>0ä¸”J<50)ï¼ŒåŒæ—¶MACDæŸ±çŠ¶å›¾(MACD_hist)ä¸ºæ­£ä¸”å¢å¤§æ—¶ä¹°å…¥ã€‚å–å‡ºåœ¨Jå€¼è¶…è¿‡90æˆ–MACDæŸ±çŠ¶å›¾è½¬è´Ÿã€‚é‡ç‚¹æ˜¯ä¸¤ä¸ªæŒ‡æ ‡çš„åŠ¨é‡æ–¹å‘ä¸€è‡´ã€‚",
    },
    {
        "theme": "KDJä½ä½+MACDé›¶è½´ä¸Šæ–¹ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šMACDä¸»çº¿åœ¨é›¶è½´ä¸Šæ–¹(MACD>0)ä»£è¡¨ä¸­æœŸå¤šå¤´ï¼Œåœ¨è¿™ä¸ªå¤§ç¯å¢ƒä¸‹ç”¨KDJä½ä½(K<30)å¯»æ‰¾å›è°ƒä¹°ç‚¹ã€‚å–å‡ºåœ¨KDJè¶…ä¹°(K>80)æˆ–MACDä¸»çº¿è·Œç ´é›¶è½´ã€‚è¿™æ˜¯è¶‹åŠ¿ä¸­çš„å›è°ƒä¹°å…¥ç­–ç•¥ã€‚",
    },

    # â•â•â• ç¬¬4ç»„ï¼šKDJ+RSIç»„åˆï¼ˆ5ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+RSIåŒè¶…å–åå¼¹ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå’ŒRSIåŒæ—¶è¿›å…¥è¶…å–åŒºæ—¶ä¹°å…¥ï¼ŒåŒé‡è¶…å–ç¡®è®¤åå¼¹æ¦‚ç‡æ›´é«˜ã€‚è¦æ±‚KDJçš„K<20ä¸”RSI<30ï¼Œæˆ–è€…æ›´æ¿€è¿›çš„K<30ä¸”RSI<35ã€‚å½“ä¸¤ä¸ªæŒ‡æ ‡åŒæ—¶è¶…å–æ—¶ï¼Œåå¼¹çš„å¯é æ€§å¤§å¹…æé«˜ã€‚å–å‡ºä½¿ç”¨KDJè¶…ä¹°æˆ–RSIè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJé‡‘å‰+RSIå›å‡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå‡ºç°é‡‘å‰(K>D)çš„åŒæ—¶RSIä»è¶…å–åŒºå›å‡(RSI>30ä¸”RSI<50)ã€‚RSIå›å‡ç¡®è®¤äº†åŠ¨é‡åè½¬ï¼ŒKDJé‡‘å‰ç¡®è®¤äº†ä¹°å…¥æ—¶æœºã€‚ä¸¤ä¸ªæŒ‡æ ‡å…±æŒ¯æé«˜èƒœç‡ã€‚å–å‡ºåœ¨RSI>70æˆ–KDJæ­»å‰ã€‚",
    },
    {
        "theme": "KDJ+RSIå¼ºåŠ¿ä¹°å…¥ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šåœ¨RSIå¤„äºä¸­ç­‰åå¼ºåŒºåŸŸ(RSI>50ä½†RSI<65)æ—¶ï¼ŒKDJå‡ºç°ä½ä½é‡‘å‰ã€‚è¿™è¡¨ç¤ºå¤§è¶‹åŠ¿å‘ä¸Šä½†çŸ­æœŸæœ‰å›è°ƒï¼Œå›è°ƒç»“æŸåç»§ç»­ä¸Šæ¶¨ã€‚ä¸æ˜¯è¶…å–åå¼¹ï¼Œè€Œæ˜¯å¼ºåŠ¿å›è°ƒä¹°å…¥ã€‚å–å‡ºåœ¨RSI>75æˆ–K>85ã€‚",
    },
    {
        "theme": "KDJè¶…å–+RSIè¶‹åŠ¿ç¡®è®¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šRSIç»´æŒåœ¨40-60ä¹‹é—´ï¼ˆä¸­æ€§åŒºåŸŸï¼‰ï¼ŒKDJä»è¶…å–åŒºå›å‡(Kä»<20å‡è‡³>25)æ—¶ä¹°å…¥ã€‚RSIä¸­æ€§è¯´æ˜å¤§è¶‹åŠ¿æœªç ´åï¼ŒKDJè¶…å–æä¾›å›è°ƒä¹°ç‚¹ã€‚å–å‡ºåœ¨KDJè¶…ä¹°(K>80)ã€‚æ­é…ä¸åŒRSIåŒºé—´å’ŒKDJé˜ˆå€¼ç”Ÿæˆå˜ä½“ã€‚",
    },
    {
        "theme": "KDJ+RSIåŠ¨é‡åˆ†æ­§ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå½“RSIæ˜¾ç¤ºåŠ¨é‡å¼€å§‹æ¢å¤(RSI>35å¹¶ä¸Šå‡)ä½†KDJä»åœ¨ç›¸å¯¹ä½ä½(K<45)æ—¶ï¼Œè¯´æ˜ä»·æ ¼å³å°†åŠ é€Ÿä¸Šæ¶¨ã€‚ä¹°å…¥æ¡ä»¶ï¼šRSI>35ä¸”KDJ_K<45ä¸”KDJ_K>KDJ_Dã€‚å–å‡ºåœ¨RSI>70æˆ–KDJ_K>80ã€‚",
    },

    # â•â•â• ç¬¬5ç»„ï¼šKDJ+å‡çº¿ç»„åˆï¼ˆ5ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJä½ä½é‡‘å‰+å‡çº¿å¤šå¤´æ’åˆ—ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šåœ¨å‡çº¿å¤šå¤´æ’åˆ—(MA5>MA10>MA20æˆ–close>MA20>MA60)çš„å‰æä¸‹ï¼Œä½¿ç”¨KDJä½ä½é‡‘å‰(K<40ä¸”K>D)ä¹°å…¥ã€‚å‡çº¿å¤šå¤´ç¡®ä¿å¤§è¶‹åŠ¿å‘ä¸Šï¼ŒKDJé‡‘å‰æ‰¾åˆ°ç²¾ç¡®å…¥åœºç‚¹ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–ä»·æ ¼è·Œç ´MA20ã€‚",
    },
    {
        "theme": "KDJè¶…å–+ä»·æ ¼ç«™ä¸ŠMA20ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå¤„äºè¶…å–åŒº(K<25)ä½†ä»·æ ¼ä»åœ¨MA20ä¸Šæ–¹(close>MA20)ï¼Œè¯´æ˜åªæ˜¯çŸ­æœŸå›è°ƒä¸æ˜¯è¶‹åŠ¿åè½¬ã€‚å½“KDJå›å‡(K>D)æ—¶ä¹°å…¥ã€‚è¿™æ˜¯è¶‹åŠ¿ä¸­çš„å®‰å…¨å›è°ƒä¹°å…¥ç‚¹ã€‚å–å‡ºåœ¨ä»·æ ¼è·Œç ´MA20æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+EMAçŸ­çº¿è¶‹åŠ¿ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨EMA(12)å’ŒEMA(26)åˆ¤æ–­çŸ­æœŸè¶‹åŠ¿æ–¹å‘ã€‚å½“EMA12>EMA26(çŸ­æœŸå¤šå¤´)æ—¶ï¼ŒKDJå‡ºç°ä½ä½é‡‘å‰(K<35,K>D)ä¹°å…¥ã€‚EMAååº”æ›´å¿«ï¼Œé€‚åˆçŸ­çº¿äº¤æ˜“ã€‚å–å‡ºåœ¨KDJè¶…ä¹°(K>80)æˆ–EMA12<EMA26ã€‚",
    },
    {
        "theme": "KDJ+MA60é•¿çº¿å®‰å…¨ä¹°å…¥ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä»·æ ¼åœ¨MA60ä¸Šæ–¹(close>MA60)ç¡®ä¿é•¿æœŸè¶‹åŠ¿å‘ä¸Šã€‚åœ¨æ­¤åŸºç¡€ä¸Šç­‰å¾…KDJè¶…å–(K<20)åå›å‡(K>D)ä¹°å…¥ã€‚MA60æ˜¯é‡è¦çš„é•¿çº¿è¶‹åŠ¿çº¿ï¼Œåœ¨å…¶ä¸Šæ–¹ä¹°å…¥å®‰å…¨æ€§æ›´é«˜ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–è·Œç ´MA60ã€‚",
    },
    {
        "theme": "KDJ+MAé‡‘å‰å…±æŒ¯ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šMA5ä¸Šç©¿MA20(å‡çº¿é‡‘å‰,closeé™„è¿‘MA5>MA20)çš„åŒæ—¶KDJä¹Ÿå‡ºç°é‡‘å‰(K>D,K<50)ã€‚åŒé‡‘å‰å…±æŒ¯ç¡®è®¤ä¹°å…¥ä¿¡å·ã€‚å¯ä»¥ç”¨MA5>MA10æˆ–MA5>MA20æ¥åˆ¤æ–­å‡çº¿æ–¹å‘ã€‚å–å‡ºåœ¨MA5<MA20æˆ–KDJè¶…ä¹°ã€‚",
    },

    # â•â•â• ç¬¬6ç»„ï¼šKDJ+å¸ƒæ—å¸¦ç»„åˆï¼ˆ4ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJè¶…å–+å¸ƒæ—å¸¦ä¸‹è½¨æ”¯æ’‘ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå½“ä»·æ ¼è·Œè‡³å¸ƒæ—å¸¦ä¸‹è½¨é™„è¿‘(close<BOLL_loweræˆ–closeæ¥è¿‘BOLL_lower)ï¼ŒåŒæ—¶KDJè¶…å–(K<25)ï¼Œå½¢æˆåŒé‡åº•éƒ¨æ”¯æ’‘ä¿¡å·ã€‚KDJå›å‡(K>D)æ—¶ä¹°å…¥ã€‚å¸ƒæ—å¸¦ä¸‹è½¨æä¾›ä»·æ ¼æ”¯æ’‘ï¼ŒKDJè¶…å–ç¡®è®¤è¶…è·Œã€‚å–å‡ºåœ¨ä»·æ ¼æ¥è¿‘BOLL_upperæˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+å¸ƒæ—å¸¦ä¸­è½¨çªç ´ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä»·æ ¼ä»ä¸‹æ–¹çªç ´å¸ƒæ—å¸¦ä¸­è½¨(close>BOLL_mid)ï¼ŒåŒæ—¶KDJå¤„äºå›å‡çŠ¶æ€(K>Dä¸”K<60)ã€‚ä¸­è½¨çªç ´è¡¨ç¤ºçŸ­æœŸè¶‹åŠ¿è½¬å¤šï¼ŒKDJç¡®è®¤åŠ¨é‡ã€‚å–å‡ºåœ¨ä»·æ ¼è·Œç ´ä¸­è½¨æˆ–KDJæ­»å‰ã€‚",
    },
    {
        "theme": "KDJ+å¸ƒæ—å¸¦æ”¶çª„çªç ´ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå¸ƒæ—å¸¦æ”¶çª„ï¼ˆä¸Šä¸‹è½¨å·®å€¼å˜å°,å¯ç”¨ATR<æŸå€¼è¿‘ä¼¼ï¼‰è¯´æ˜å³å°†å˜ç›˜ã€‚åœ¨æ”¶çª„æœŸé—´KDJä»ä½ä½(K<30)é‡‘å‰æ—¶ä¹°å…¥ï¼Œé¢„æœŸå‘ä¸Šçªç ´ã€‚æ­é…ATRæŒ‡æ ‡åˆ¤æ–­æ³¢åŠ¨ç‡æ”¶çª„ã€‚å–å‡ºåœ¨KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJè¶…ä¹°+å¸ƒæ—å¸¦ä¸Šè½¨å‹åŠ›ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä»·æ ¼æ¥è¿‘æˆ–è¶…è¿‡å¸ƒæ—å¸¦ä¸Šè½¨æ—¶å–å‡ºä¿¡å·å¢å¼ºã€‚ä¹°å…¥ä½¿ç”¨KDJä½ä½(K<30)ä¸”ä»·æ ¼åœ¨å¸ƒæ—å¸¦ä¸­è½¨ä»¥ä¸‹ã€‚å½“KDJè¶…ä¹°(K>80)ä¸”ä»·æ ¼æ¥è¿‘ä¸Šè½¨æ—¶å¼ºåˆ¶å–å‡ºã€‚è¿™æ˜¯ä¸€ä¸ªåˆ©ç”¨å¸ƒæ—å¸¦åšæ­¢ç›ˆçš„ç­–ç•¥ã€‚",
    },

    # â•â•â• ç¬¬7ç»„ï¼šKDJ+ADXè¶‹åŠ¿å¼ºåº¦ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+ADXè¶‹åŠ¿ç¡®è®¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šADX>25è¡¨ç¤ºæœ‰æ˜ç¡®è¶‹åŠ¿ã€‚åœ¨æœ‰è¶‹åŠ¿çš„å¸‚åœºä¸­(ADX>25)ä½¿ç”¨KDJä¿¡å·æ›´æœ‰æ•ˆã€‚ä¹°å…¥æ¡ä»¶ï¼šADX>25ä¸”ADX_plus_di>ADX_minus_di(ä¸Šå‡è¶‹åŠ¿)ä¸”KDJä½ä½é‡‘å‰(K<40,K>D)ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–ADX_plus_di<ADX_minus_diã€‚",
    },
    {
        "theme": "KDJ+ADXå¼±åŠ¿éœ‡è¡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå½“ADX<20æ—¶å¸‚åœºå¤„äºéœ‡è¡çŠ¶æ€ï¼Œæ­¤æ—¶KDJçš„è¶…ä¹°è¶…å–ä¿¡å·æ›´æœ‰æ•ˆã€‚ä¹°å…¥åœ¨ADX<20ä¸”KDJè¶…å–(K<20)åå›å‡ã€‚å–å‡ºåœ¨KDJè¶…ä¹°(K>80)ã€‚éœ‡è¡å¸‚ä¸­åè½¬äº¤æ˜“æ›´é€‚åˆã€‚",
    },
    {
        "theme": "KDJ+ADXè¶‹åŠ¿å¯åŠ¨ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šADXä»ä½ä½(<20)å¼€å§‹ä¸Šå‡ï¼ŒåŒæ—¶KDJé‡‘å‰ï¼Œæš—ç¤ºæ–°è¶‹åŠ¿å³å°†å¯åŠ¨ã€‚ä¹°å…¥æ¡ä»¶ï¼šADX>20ä¸”ADX<35(è¶‹åŠ¿åˆæœŸ)ä¸”KDJ_K>KDJ_Dä¸”KDJ_K<50ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–ADXåè½¬ä¸‹é™(ADX>40åå¼€å§‹ä¸‹é™å¯ç”¨ADX<ä¹‹å‰çš„å€¼è¿‘ä¼¼)ã€‚",
    },

    # â•â•â• ç¬¬8ç»„ï¼šKDJ+ATRæ³¢åŠ¨ç‡ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJè¶…å–+ä½æ³¢åŠ¨ç‡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå½“ATRè¾ƒä½(ATR<æŸé˜ˆå€¼,å¦‚ATR<2.0)è¯´æ˜æ³¢åŠ¨ç‡æ”¶ç¼©ï¼Œç»“åˆKDJè¶…å–(K<25)æ„å‘³ç€ä¸‹è·ŒåŠ¨èƒ½è¡°å‡ï¼Œåå¼¹æ¦‚ç‡é«˜ã€‚ä¹°å…¥åœ¨KDJå›å‡(K>D)æ—¶ã€‚ä½æ³¢åŠ¨+è¶…å–=åº•éƒ¨ä¿¡å·ã€‚å–å‡ºåœ¨KDJè¶…ä¹°ã€‚ATRå‚æ•°ç”¨14ã€‚",
    },
    {
        "theme": "KDJ+ATRåŠ¨æ€æ­¢æŸç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨KDJé‡‘å‰(K>Dä¸”K<40)ä½œä¸ºä¹°å…¥ä¿¡å·ï¼ŒATRä½œä¸ºæ³¢åŠ¨ç‡å‚è€ƒæ¥è®¾ç½®åˆç†çš„æ­¢æŸæ­¢ç›ˆã€‚ATRè¾ƒå¤§æ—¶ç”¨æ›´å®½çš„æ­¢æŸ(å¦‚-10%)å’Œæ­¢ç›ˆ(+25%)ï¼ŒATRè¾ƒå°æ—¶ç”¨æ›´ç´§çš„æ­¢æŸ(-5%)å’Œæ­¢ç›ˆ(+15%)ã€‚ç”Ÿæˆä¸åŒATRé˜ˆå€¼é…åˆä¸åŒæ­¢æŸæ­¢ç›ˆçš„å˜ä½“ã€‚",
    },
    {
        "theme": "KDJ+é«˜æ³¢åŠ¨çªç ´ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šATRå‡é«˜(ATR>3.0)è¡¨ç¤ºæ³¢åŠ¨åŠ å¤§ï¼Œé…åˆKDJä»è¶…å–åŒºå¿«é€Ÿå›å‡(Kä»<15å‡è‡³>25)å¯èƒ½æ˜¯ä¸»åŠ›èµ„é‡‘ä»‹å…¥çš„ä¿¡å·ã€‚é«˜æ³¢åŠ¨+KDJå¿«é€Ÿåè½¬=å¼ºåŠ›ä¹°å…¥ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–ATRå¼€å§‹å›è½ã€‚",
    },

    # â•â•â• ç¬¬9ç»„ï¼šKDJ+æˆäº¤é‡/OBVï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJé‡‘å‰+OBVç¡®è®¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå‡ºç°ä½ä½é‡‘å‰(K<35,K>D)ï¼ŒåŒæ—¶OBVå¤„äºä¸Šå‡è¶‹åŠ¿ï¼Œè¡¨ç¤ºæˆäº¤é‡åœ¨æ”¯æŒä»·æ ¼ä¸Šæ¶¨ã€‚OBVä¸Šå‡è¯´æ˜ä¹°æ–¹åŠ›é‡åœ¨å¢å¼ºã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–OBVå‡ºç°ä¸‹é™è¶‹åŠ¿ã€‚",
    },
    {
        "theme": "KDJè¶…å–+é‡èƒ½èç¼©ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJè¶…å–(K<20)çš„åŒæ—¶å¦‚æœæˆäº¤é‡ä¹Ÿåœ¨èç¼©ï¼ˆå¯é€šè¿‡MFI<30åˆ¤æ–­ï¼‰ï¼Œè¯´æ˜å–å‹è€—å°½ï¼Œåº•éƒ¨å³å°†å½¢æˆã€‚ä¹°å…¥åœ¨KDJå›å‡(K>D)æ—¶ã€‚MFI(Money Flow Index)ä½äº30è¡¨ç¤ºèµ„é‡‘æµå‡ºå‡å¼±ã€‚å–å‡ºåœ¨MFI>70æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+MFIèµ„é‡‘æµå‘ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šMFI(èµ„é‡‘æµé‡æŒ‡æ ‡)è¡¡é‡èµ„é‡‘æµå…¥æµå‡ºã€‚å½“KDJä½ä½(K<30)ä¸”MFIå¼€å§‹å›å‡(MFI>30ä½†MFI<50)ï¼Œè¯´æ˜èµ„é‡‘å¼€å§‹æµå…¥+æŠ€æœ¯é¢è¶…å–ã€‚åŒé‡ä¿¡å·ä¹°å…¥ã€‚å–å‡ºåœ¨MFI>80(èµ„é‡‘è¿‡çƒ­)æˆ–KDJè¶…ä¹°(K>80)ã€‚",
    },

    # â•â•â• ç¬¬10ç»„ï¼šKDJ+CCI/WRéœ‡è¡æŒ‡æ ‡ï¼ˆ4ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+CCIåŒéœ‡è¡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šKDJå’ŒCCIéƒ½æ˜¯éœ‡è¡æŒ‡æ ‡ã€‚å½“KDJè¶…å–(K<20)ä¸”CCIä¹Ÿè¶…å–(CCI<-100)æ—¶ï¼ŒåŒé‡è¶…å–ä¿¡å·éå¸¸å¼ºçƒˆã€‚ä¹°å…¥åœ¨KDJå›å‡(K>D)ä¸”CCIå¼€å§‹å›å‡(CCI>-100)æ—¶ã€‚å–å‡ºåœ¨KDJè¶…ä¹°(K>80)æˆ–CCI>100ã€‚",
    },
    {
        "theme": "KDJ+WRå¨å»‰æŒ‡æ ‡ç»„åˆç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šWR(å¨å»‰æŒ‡æ ‡)èŒƒå›´-100åˆ°0ï¼ŒWR<-80ä¸ºè¶…å–ï¼ŒWR>-20ä¸ºè¶…ä¹°ã€‚å½“KDJè¶…å–(K<25)ä¸”WR<-80æ—¶åŒé‡è¶…å–ã€‚ä¹°å…¥åœ¨KDJé‡‘å‰(K>D)æ—¶ã€‚WRå’ŒKDJåœ¨éœ‡è¡å¸‚ä¸­äº’ç›¸ç¡®è®¤æ•ˆæœå¥½ã€‚å–å‡ºåœ¨WR>-20æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+CCIè¶‹åŠ¿åè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šCCIä»æä½å€¼(-200ä»¥ä¸‹)å›å‡è‡³-100ä»¥ä¸Šï¼ŒåŒæ—¶KDJä½ä½é‡‘å‰ï¼Œè¡¨ç¤ºå¼ºçƒˆåè½¬ã€‚CCIçš„æç«¯å€¼(-200)æ¯”æ™®é€šè¶…å–(-100)æ›´æœ‰æ„ä¹‰ã€‚ä¹°å…¥åœ¨CCI>-100ä¸”KDJ_K>KDJ_Dä¸”KDJ_K<40æ—¶ã€‚å–å‡ºåœ¨CCI>200æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+WRå¿«é€Ÿåè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šWRæ˜¯éå¸¸æ•æ„Ÿçš„è¶…ä¹°è¶…å–æŒ‡æ ‡ã€‚å½“WRå¿«é€Ÿä»æåº¦è¶…å–(-95ä»¥ä¸‹)å›å‡ï¼ŒåŒæ—¶KDJä¹Ÿå¤„äºä½ä½å›å‡çŠ¶æ€(K<30,K>D)ï¼Œè¡¨ç¤ºçŸ­æœŸæ€¥é€Ÿåå¼¹ã€‚é€‚åˆçŸ­çº¿äº¤æ˜“(5-10å¤©)ã€‚å–å‡ºåœ¨WR>-30æˆ–KDJ_K>70ã€‚",
    },

    # â•â•â• ç¬¬11ç»„ï¼šKDJ+BOLL+å…¶ä»–å¤šæŒ‡æ ‡ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+RSI+MACDä¸‰é‡ç¡®è®¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä¸‰ä¸ªæŒ‡æ ‡åŒæ—¶ç¡®è®¤ä¹°å…¥ï¼šKDJä½ä½é‡‘å‰(K<35,K>D)ï¼ŒRSIå¤„äºå›å‡åŒº(RSI>30,RSI<50)ï¼ŒMACDæŸ±çŠ¶å›¾è½¬æ­£(MACD_hist>0)ã€‚ä¸‰é‡ç¡®è®¤è™½ç„¶ä¿¡å·å°‘ä½†å‡†ç¡®ç‡é«˜ã€‚å–å‡ºä½¿ç”¨ä»»ä¸€æŒ‡æ ‡çš„è¶…ä¹°ä¿¡å·ã€‚ä¹°å…¥æ¡ä»¶æ§åˆ¶åœ¨3-4ä¸ªã€‚",
    },
    {
        "theme": "KDJ+MA+MACDè¶‹åŠ¿è·Ÿè¸ªç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šMA20ä½œä¸ºè¶‹åŠ¿æ–¹å‘(close>MA20)ï¼ŒMACD>0ç¡®è®¤ä¸­æœŸå¤šå¤´ï¼ŒKDJä½ä½é‡‘å‰(K<40,K>D)åšç²¾ç¡®å…¥åœºã€‚ä¸‰å±‚è¿‡æ»¤ï¼šè¶‹åŠ¿(MA)+åŠ¨é‡(MACD)+æ—¶æœº(KDJ)ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–close<MA20ã€‚",
    },
    {
        "theme": "KDJ+BOLL+RSIåº•éƒ¨çŒäººç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå¯»æ‰¾æç«¯åº•éƒ¨æœºä¼šã€‚ä»·æ ¼åœ¨å¸ƒæ—å¸¦ä¸‹è½¨é™„è¿‘(close<BOLL_lower)ï¼ŒRSIè¶…å–(RSI<30)ï¼ŒKDJè¶…å–(K<20)ã€‚ä¸‰é‡åº•éƒ¨ä¿¡å·ã€‚ä¹°å…¥åœ¨KDJå¼€å§‹å›å‡(K>D)æ—¶ã€‚è¿™ç§æç«¯æƒ…å†µå‡ºç°æ—¶åå¼¹åŠ›åº¦é€šå¸¸å¾ˆå¤§ã€‚å–å‡ºåœ¨RSI>65æˆ–KDJè¶…ä¹°ã€‚",
    },

    # â•â•â• ç¬¬12ç»„ï¼šKDJ+ROC/TRIXåŠ¨é‡ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+ROCåŠ¨é‡ç¡®è®¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šROC(å˜åŠ¨ç‡æŒ‡æ ‡)è¡¡é‡ä»·æ ¼å˜åŒ–é€Ÿåº¦ã€‚å½“KDJä½ä½(K<30)ä¸”ROCä»è´Ÿå€¼å›å‡è‡³æ¥è¿‘0æˆ–æ­£å€¼(ROC>-2)æ—¶ï¼Œè¯´æ˜ä¸‹è·ŒåŠ¨é‡è¡°å‡ï¼Œå³å°†åè½¬ã€‚ä¹°å…¥åœ¨KDJé‡‘å‰æ—¶ã€‚ROCå‚æ•°ç”¨12ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–ROCå¼€å§‹ä¸‹é™ã€‚",
    },
    {
        "theme": "KDJ+TRIXè¶‹åŠ¿è¿‡æ»¤ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šTRIXæ˜¯ä¸‰é‡æŒ‡æ•°å¹³æ»‘å‡çº¿çš„å˜åŒ–ç‡ï¼Œéå¸¸å¹³æ»‘ï¼Œé€‚åˆè¿‡æ»¤å™ªéŸ³ã€‚å½“TRIX>0(é•¿æœŸè¶‹åŠ¿å‘ä¸Š)æ—¶ä½¿ç”¨KDJä½ä½é‡‘å‰ä¹°å…¥ã€‚TRIXè¿‡æ»¤äº†çŸ­æœŸæ³¢åŠ¨ï¼Œåªåœ¨å¤§è¶‹åŠ¿å‘ä¸Šæ—¶äº¤æ˜“ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–TRIX<0ã€‚",
    },
    {
        "theme": "KDJ+ROC+RSIä¸‰åŠ¨é‡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šç»“åˆä¸‰ä¸ªåŠ¨é‡æŒ‡æ ‡ã€‚KDJ_K<35(çŸ­æœŸè¶…å–å›å‡)ï¼ŒRSI>35(ä¸­æœŸåŠ¨é‡å¼€å§‹æ¢å¤)ï¼ŒROC>-1(ä»·æ ¼å˜åŒ–ç‡è¶‹äºæ­£å€¼)ã€‚ä¸‰ä¸ªåŠ¨é‡æŒ‡æ ‡åŒæ—¶ç¡®è®¤åº•éƒ¨åè½¬ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–RSI>70ã€‚",
    },

    # â•â•â• ç¬¬13ç»„ï¼šKDJä¸åŒå¸‚åœºç­–ç•¥ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJéœ‡è¡å¸‚åå¤äº¤æ˜“ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šåœ¨éœ‡è¡å¸‚ä¸­(ADX<20æˆ–ä»·æ ¼åœ¨å¸ƒæ—å¸¦ä¸­è½¨é™„è¿‘æ³¢åŠ¨)ï¼ŒKDJçš„è¶…ä¹°è¶…å–ä¿¡å·ç‰¹åˆ«æœ‰æ•ˆã€‚ä½ä½(K<25)ä¹°å…¥ï¼Œé«˜ä½(K>75)å–å‡ºï¼Œåå¤åšæ³¢æ®µã€‚æ­¢æŸè¾ƒç´§(-5%)ï¼Œæ­¢ç›ˆè¾ƒçŸ­(+10%-15%)ï¼ŒæŒä»“æ—¶é—´çŸ­(5-10å¤©)ã€‚",
    },
    {
        "theme": "KDJè¶‹åŠ¿å¸‚å›è°ƒç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šåœ¨ä¸Šå‡è¶‹åŠ¿ä¸­(close>MA20,MACD>0)ï¼Œä½¿ç”¨KDJå›è°ƒåˆ°ä½ä½(K<35)åé‡‘å‰ä½œä¸ºåŠ ä»“/ä¹°å…¥ç‚¹ã€‚è¶‹åŠ¿å¸‚ä¸­KDJä½ä½æ˜¯å›è°ƒä¹°å…¥çš„å¥½æ—¶æœºï¼Œä¸å¿…ç­‰åˆ°æåº¦è¶…å–ã€‚æ­¢æŸç”¨-8%ï¼Œæ­¢ç›ˆç”¨+20-30%ã€‚",
    },
    {
        "theme": "KDJç†Šå¸‚åå¼¹ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå³ä½¿åœ¨ä¸‹è·Œè¶‹åŠ¿ä¸­ï¼Œä¹Ÿä¼šæœ‰åå¼¹ã€‚å½“KDJæåº¦è¶…å–(K<10,J<-10)æ—¶å¯ä»¥åšçŸ­çº¿åå¼¹äº¤æ˜“ã€‚å…³é”®æ˜¯æ­¢æŸä¸¥æ ¼(-5%)ã€æ­¢ç›ˆå¿«é€Ÿ(+8%-12%)ã€æŒä»“æçŸ­(3-7å¤©)ã€‚å¿…é¡»ç­‰KDJå›å‡ç¡®è®¤(K>D)å†è¿›åœºã€‚",
    },

    # â•â•â• ç¬¬14ç»„ï¼šKDJä¹°å–æ¡ä»¶åˆ›æ–°ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ Jå€¼æ‹ç‚¹ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šJå€¼æ˜¯KDJä¸­æœ€æ•æ„Ÿçš„çº¿ã€‚å½“Jå€¼åœ¨ä½ä½(J<10)å¼€å§‹æ‹å¤´å‘ä¸Šï¼ˆJ>Kï¼‰æ—¶ï¼Œæ˜¯æœ€æ—©çš„åè½¬ä¿¡å·ã€‚ä¹°å…¥åœ¨J>Kä¸”J<30æ—¶ï¼ˆJåˆšæ‹å¤´ï¼‰ã€‚Jå€¼çš„æ‹ç‚¹æ¯”Kçº¿é‡‘å‰æ›´é¢†å…ˆï¼Œå¯ä»¥æ›´æ—©å…¥åœºã€‚å–å‡ºåœ¨J>90ã€‚",
    },
    {
        "theme": "KDJ Kå€¼å›å‡é€Ÿåº¦ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå…³æ³¨Kå€¼ä»ä½ä½å›å‡çš„é€Ÿåº¦ã€‚å½“Kå€¼åœ¨20ä»¥ä¸‹åè¿…é€Ÿå›å‡è‡³30ä»¥ä¸Š(K>30,ä¹‹å‰K<20è¿‘ä¼¼ä¸ºK>25ä¸”K>D)ï¼Œè¯´æ˜åå¼¹åŠ›åº¦å¼ºã€‚é…åˆJå€¼ä¹Ÿå¿«é€Ÿå›å‡(J>20)ç¡®è®¤ã€‚å¿«é€Ÿå›å‡æ„å‘³ç€ä¹°æ–¹åŠ›é‡çªç„¶å¢å¼ºã€‚å–å‡ºåœ¨K>80æˆ–J>100ã€‚",
    },
    {
        "theme": "KDJ Då€¼æ”¯æ’‘ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šDçº¿æ˜¯Kçº¿çš„å¹³æ»‘çº¿ï¼Œå˜åŒ–è¾ƒæ…¢ã€‚å½“Då€¼åœ¨ç‰¹å®šä½ç½®(D<30æˆ–Dåœ¨40-50ä¹‹é—´)å½¢æˆæ”¯æ’‘ï¼ŒKå€¼ä»Då€¼ä¸Šæ–¹å¼¹èµ·(K>D)æ—¶ä¹°å…¥ã€‚Då€¼æ”¯æ’‘åŒºåŸŸè¶Šä½ï¼Œåå¼¹æ½œåŠ›è¶Šå¤§ã€‚å–å‡ºåœ¨K>80æˆ–D>70ã€‚",
    },

    # â•â•â• ç¬¬15ç»„ï¼šKDJæ­¢æŸæ­¢ç›ˆä¼˜åŒ–ï¼ˆ2ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJå®½æ­¢æŸé«˜æ­¢ç›ˆç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨KDJæ ‡å‡†ä¿¡å·(ä½ä½é‡‘å‰ä¹°å…¥K<30,K>D)ï¼Œä½†é‡‡ç”¨å®½æ­¢æŸ(-10~-15%)å’Œé«˜æ­¢ç›ˆ(+30~+50%)çš„é£é™©ç®¡ç†ã€‚å®½æ­¢æŸå‡å°‘å› æ³¢åŠ¨è¢«éœ‡å‡ºçš„æ¦‚ç‡ï¼Œé«˜æ­¢ç›ˆæŠ“ä½å¤§è¡Œæƒ…ã€‚é€‚åˆè¶‹åŠ¿è¡Œæƒ…ã€‚æŒä»“20-40å¤©ã€‚æ­é…MA60è¶‹åŠ¿è¿‡æ»¤ã€‚",
    },
    {
        "theme": "KDJç´§æ­¢æŸå¿«æ­¢ç›ˆç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä½¿ç”¨KDJä¿¡å·(K<25,K>D)ä¹°å…¥ï¼Œé‡‡ç”¨ç´§æ­¢æŸ(-3~-5%)å’Œå¿«æ­¢ç›ˆ(+8~+12%)çš„çŸ­çº¿é£æ ¼ã€‚èƒœç‡å¯èƒ½è¾ƒä½ä½†é€šè¿‡ä¸¥æ ¼é£æ§ä¿æŠ¤æœ¬é‡‘ã€‚é€‚åˆéœ‡è¡å¸‚ã€‚æŒä»“5-10å¤©ã€‚æ­é…RSIæˆ–WRåšè¾…åŠ©ç¡®è®¤ã€‚",
    },

    # â•â•â• ç¬¬16ç»„ï¼šKDJ+StochRSIï¼ˆ2ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+StochRSIåŒéšæœºæŒ‡æ ‡ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šStochRSIæ˜¯RSIçš„éšæœºåŒ–å¤„ç†ï¼Œå’ŒKDJé€»è¾‘ç›¸ä¼¼ä½†åŸºäºä¸åŒçš„æ•°æ®æºã€‚å½“KDJè¶…å–(K<25)ä¸”STOCHRSIä¹Ÿè¶…å–(STOCHRSI<0.2)æ—¶ï¼ŒåŒé‡éšæœºè¶…å–ä¿¡å·ã€‚ä¹°å…¥åœ¨KDJé‡‘å‰(K>D)æ—¶ã€‚å–å‡ºåœ¨ä¸¤è€…ä¹‹ä¸€è¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+StochRSIå…±æŒ¯åè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šç­‰å¾…KDJå’ŒStochRSIåŒæ—¶ä»è¶…å–åŒºå›å‡ã€‚KDJ_K>KDJ_Dä¸”KDJ_K<40ï¼ŒåŒæ—¶STOCHRSI>0.2ä¸”STOCHRSI<0.5ã€‚ä¸¤ä¸ªä¸åŒæ¥æºçš„éšæœºæŒ‡æ ‡åŒæ—¶ç¡®è®¤åè½¬ï¼Œä¿¡å·æ›´å¯é ã€‚å–å‡ºåœ¨STOCHRSI>0.8æˆ–KDJè¶…ä¹°ã€‚",
    },

    # â•â•â• ç¬¬17ç»„ï¼šKDJ+VWAP/CMFï¼ˆ2ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+CMFèµ„é‡‘æµç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šCMF(Chaikin Money Flow)è¡¡é‡ä¸€æ®µæ—¶é—´å†…çš„èµ„é‡‘æµå…¥æµå‡ºã€‚å½“KDJè¶…å–(K<25)ä¸”CMFå¼€å§‹è½¬æ­£(CMF>0)ï¼Œè¯´æ˜èµ„é‡‘å¼€å§‹æµå…¥+æŠ€æœ¯é¢è¶…å–ã€‚ä¹°å…¥åœ¨KDJé‡‘å‰æ—¶ã€‚CMF>0è¡¨ç¤ºå‡€èµ„é‡‘æµå…¥ã€‚å–å‡ºåœ¨CMF<0æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+VWAPæˆäº¤é‡åŠ æƒç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šVWAP(æˆäº¤é‡åŠ æƒå¹³å‡ä»·)æ˜¯é‡è¦çš„çŸ­çº¿æ”¯æ’‘/é˜»åŠ›ä½ã€‚å½“ä»·æ ¼åœ¨VWAPä¸Šæ–¹(close>VWAP)ä¸”KDJå¤„äºä½ä½(K<35)é‡‘å‰æ—¶ä¹°å…¥ï¼Œè¯´æ˜è™½ç„¶çŸ­æœŸè¶…å–ä½†æ•´ä½“ä¹°æ–¹ä»å ä¼˜ã€‚å–å‡ºåœ¨KDJè¶…ä¹°æˆ–close<VWAPã€‚",
    },

    # â•â•â• ç¬¬18ç»„ï¼šKDJ+DPOå»è¶‹åŠ¿ï¼ˆ2ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJ+DPOå‘¨æœŸç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šDPO(å»è¶‹åŠ¿ä»·æ ¼éœ‡è¡å™¨)å»é™¤é•¿æœŸè¶‹åŠ¿åæ˜¾ç¤ºçº¯å‘¨æœŸæ³¢åŠ¨ã€‚å½“DPOä¸ºè´Ÿå€¼(DPO<0,å¤„äºå‘¨æœŸåº•éƒ¨)ä¸”KDJè¶…å–(K<25)æ—¶ä¹°å…¥ã€‚DPOå’ŒKDJéƒ½ç¡®è®¤å¤„äºå‘¨æœŸåº•éƒ¨ã€‚å–å‡ºåœ¨DPO>0(å›åˆ°å‘¨æœŸä¸ŠåŠéƒ¨åˆ†)æˆ–KDJè¶…ä¹°ã€‚",
    },
    {
        "theme": "KDJ+DPOåè½¬ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šDPOä»æä½å€¼å›å‡è‡³æ¥è¿‘é›¶(DPO>-1ä¸”DPO<1)ï¼ŒåŒæ—¶KDJå¼€å§‹é‡‘å‰(K>D,K<40)ï¼Œè¡¨ç¤ºå‘¨æœŸåè½¬+æŠ€æœ¯åè½¬åŒé‡ç¡®è®¤ã€‚å–å‡ºåœ¨DPO>ä¹‹å‰çš„é«˜ç‚¹(å¯ç”¨DPO>2è¿‘ä¼¼)æˆ–KDJè¶…ä¹°ã€‚",
    },

    # â•â•â• ç¬¬19ç»„ï¼šKDJæ¿€è¿›/ä¿å®ˆæç«¯ï¼ˆ2ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJæè‡´æ¿€è¿›ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šæœ€å°‘æ¡ä»¶ã€æœ€å®½æ¾é˜ˆå€¼çš„KDJç­–ç•¥ã€‚åªéœ€1-2ä¸ªä¹°å…¥æ¡ä»¶ï¼šK<40ä¸”K>Då³å¯ä¹°å…¥ã€‚æ­¢æŸ-5%ï¼Œæ­¢ç›ˆ+25-35%ã€‚è¿½æ±‚æœ€å¤§äº¤æ˜“æ¬¡æ•°å’Œæ•æ‰æ‰€æœ‰å¯èƒ½çš„æœºä¼šã€‚å¤šä¸ªå‚æ•°ç»„åˆ((6,3,3)åˆ°(14,3,3))ç”Ÿæˆæœ€æ¿€è¿›çš„å˜ä½“ã€‚",
    },
    {
        "theme": "KDJæè‡´ä¿å®ˆç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šå¤šé‡ä¸¥æ ¼æ¡ä»¶è¿‡æ»¤çš„KDJç­–ç•¥ã€‚ä¹°å…¥éœ€è¦3-4ä¸ªæ¡ä»¶å…¨éƒ¨æ»¡è¶³ï¼šKDJè¶…å–(K<20)ä¸”K>Dä¸”RSI<35ä¸”close>MA60(å¤§è¶‹åŠ¿ä¸Šè¡Œ)ã€‚æ¡ä»¶ä¸¥æ ¼ï¼Œä¿¡å·å°‘ä½†å‡†ç¡®ç‡é«˜ã€‚æ­¢æŸ-8%ï¼Œæ­¢ç›ˆ+15-20%ã€‚è¿½æ±‚é«˜èƒœç‡å’Œä½å›æ’¤ã€‚",
    },

    # â•â•â• ç¬¬20ç»„ï¼šKDJæ—¶é—´ç»´åº¦ç­–ç•¥ï¼ˆ3ä¸ªï¼‰ â•â•â•
    {
        "theme": "KDJè¶…çŸ­çº¿(3-5å¤©)ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼šä¸“æ³¨3-5å¤©çš„è¶…çŸ­çº¿äº¤æ˜“ã€‚ä½¿ç”¨çŸ­å‘¨æœŸKDJ(6,3,3)çš„è¶…å–åå¼¹ä¿¡å·(K<20,K>D)ã€‚æ­é…WRæˆ–RSIåšå¿«é€Ÿç¡®è®¤ã€‚æ­¢æŸ-3%ï¼Œæ­¢ç›ˆ+8%ã€‚max_hold_days=5ã€‚å¿«è¿›å¿«å‡ºï¼Œå‡å°‘æŒä»“é£é™©ã€‚",
    },
    {
        "theme": "KDJä¸­çº¿(10-20å¤©)ç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼š10-20å¤©æŒä»“çš„ä¸­çº¿ç­–ç•¥ã€‚ä½¿ç”¨æ ‡å‡†KDJ(9,3,3)æˆ–(14,3,3)ã€‚ä¹°å…¥åœ¨K<30ä¸”K>Dï¼Œæ­é…MACDæˆ–MAè¶‹åŠ¿ç¡®è®¤ã€‚æ­¢æŸ-8%ï¼Œæ­¢ç›ˆ+18%ã€‚max_hold_days=20ã€‚å¹³è¡¡äº¤æ˜“é¢‘ç‡å’Œå•æ¬¡æ”¶ç›Šã€‚",
    },
    {
        "theme": "KDJé•¿çº¿(20-40å¤©)æ³¢æ®µç­–ç•¥",
        "source_text": "æ ¸å¿ƒé€»è¾‘ï¼š20-40å¤©æŒä»“çš„é•¿çº¿æ³¢æ®µã€‚ä½¿ç”¨é•¿å‘¨æœŸKDJ(21,5,5)ã€‚ä¹°å…¥åœ¨K<20ä¸”K>Dä¸”close>MA60(å¤§è¶‹åŠ¿ä¸Šè¡Œ)ã€‚æ­¢æŸ-12%ï¼Œæ­¢ç›ˆ+30%ã€‚max_hold_days=40ã€‚æŠ“å¤§æ³¢æ®µè¡Œæƒ…ï¼Œå¿½ç•¥çŸ­æœŸæ³¢åŠ¨ã€‚",
    },
]

print(f"ğŸ“‹ å…±å®šä¹‰ {len(EXPERIMENTS)} ä¸ªå®éªŒä¸»é¢˜")


def create_experiment(api_base: str, theme: str, source_text: str, idx: int, total: int) -> dict | None:
    """Create one experiment via SSE API and wait for completion."""
    url = f"{api_base}/lab/experiments"
    payload = {
        "theme": theme,
        "source_type": "template",
        "source_text": source_text,
        "initial_capital": 100000.0,
        "max_positions": 10,
        "max_position_pct": 30.0,
    }

    print(f"\n{'='*60}")
    print(f"[{idx}/{total}] åˆ›å»ºå®éªŒ: {theme}")
    print(f"{'='*60}")

    try:
        resp = requests.post(url, json=payload, stream=True, timeout=600)
        resp.raise_for_status()
    except Exception as e:
        print(f"  âŒ è¯·æ±‚å¤±è´¥: {e}")
        return {"theme": theme, "status": "request_failed", "error": str(e)}

    result = {
        "theme": theme,
        "status": "unknown",
        "strategy_count": 0,
        "best_score": 0,
        "best_name": "",
        "strategies": [],
    }

    for line in resp.iter_lines(decode_unicode=True):
        if not line or not line.startswith("data: "):
            continue
        try:
            data = json.loads(line[6:])
        except json.JSONDecodeError:
            continue

        evt_type = data.get("type", "")

        if evt_type == "generating":
            print(f"  âš™ {data.get('message', '')}")
        elif evt_type == "strategies_ready":
            count = data.get("count", 0)
            result["strategy_count"] = count
            print(f"  âœ“ ç”Ÿæˆ {count} ä¸ªç­–ç•¥å˜ä½“")
        elif evt_type == "data_integrity":
            msg = data.get("message", "")
            if "ä¿®å¤" in msg:
                print(f"  ğŸ”§ {msg}")
        elif evt_type == "loading_data":
            print(f"  ğŸ“Š {data.get('message', '')}")
        elif evt_type == "data_loaded":
            print(f"  âœ“ åŠ è½½ {data.get('stock_count', 0)} åªè‚¡ç¥¨")
        elif evt_type == "backtest_start":
            idx_bt = data.get("index", 0)
            total_bt = data.get("total", 0)
            name = data.get("name", "")
            print(f"  â–¶ [{idx_bt}/{total_bt}] å›æµ‹: {name}", end="")
        elif evt_type == "backtest_done":
            score = data.get("score", 0)
            ret = data.get("total_return_pct", 0)
            trades = data.get("total_trades", 0)
            dd = data.get("max_drawdown_pct", 0)
            print(f" â†’ æ”¶ç›Š{ret:+.1f}% å›æ’¤{dd:.1f}% {trades}ç¬” å¾—åˆ†{score:.2f}")
            result["strategies"].append({
                "name": data.get("name", ""),
                "score": score,
                "total_return_pct": ret,
                "max_drawdown_pct": dd,
                "total_trades": trades,
                "win_rate": data.get("win_rate", 0),
            })
        elif evt_type == "backtest_skip":
            name = data.get("name", "")
            reason = data.get("reason", "")
            print(f"  â­ è·³è¿‡: {name} ({reason})")
        elif evt_type == "backtest_error":
            name = data.get("name", "")
            error = data.get("error", "")
            print(f"  âŒ å›æµ‹å¤±è´¥: {name} ({error})")
        elif evt_type == "experiment_done":
            result["status"] = "done"
            result["best_score"] = data.get("best_score", 0)
            result["best_name"] = data.get("best_name", "")
            done = data.get("done_count", 0)
            invalid = data.get("invalid_count", 0)
            failed = data.get("failed_count", 0)
            print(f"\n  âœ… å®éªŒå®Œæˆ: æˆåŠŸ{done} æ— æ•ˆ{invalid} å¤±è´¥{failed}")
            print(f"  ğŸ† æœ€ä½³: {result['best_name']} (å¾—åˆ†{result['best_score']:.2f})")
        elif evt_type == "error":
            result["status"] = "failed"
            result["error"] = data.get("message", "")
            print(f"  âŒ å®éªŒå¤±è´¥: {data.get('message', '')}")

    return result


def main():
    parser = argparse.ArgumentParser(description="Batch KDJ experiment runner")
    parser.add_argument("--api-url", default="http://localhost:8050/api", help="API base URL")
    parser.add_argument("--start", type=int, default=1, help="Start from experiment N (1-based)")
    parser.add_argument("--end", type=int, default=0, help="End at experiment N (inclusive, 0=all)")
    parser.add_argument("--output", default="data/kdj_batch_results.json", help="Output JSON file")
    args = parser.parse_args()

    if args.end <= 0:
        args.end = len(EXPERIMENTS)
    total = args.end - args.start + 1
    experiments_to_run = EXPERIMENTS[args.start - 1 : args.end]

    print(f"ğŸš€ KDJæ‰¹é‡å®éªŒ â€” å…± {total} ä¸ªå®éªŒ, æ¯ä¸ªç”Ÿæˆ8ä¸ªç­–ç•¥å˜ä½“")
    print(f"   é¢„è®¡æ€»ç­–ç•¥æ•°: {total * 8}")
    print(f"   API: {args.api_url}")
    print(f"   è¾“å‡º: {args.output}")
    print(f"   å¼€å§‹æ—¶é—´: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")

    all_results = []
    for i, exp in enumerate(experiments_to_run, args.start):
        result = create_experiment(args.api_url, exp["theme"], exp["source_text"], i, args.end)
        if result:
            all_results.append(result)

        # Save intermediate results
        with open(args.output, "w", encoding="utf-8") as f:
            json.dump({
                "run_date": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
                "total_experiments": len(all_results),
                "experiments": all_results,
            }, f, ensure_ascii=False, indent=2)

        # Brief pause between experiments to avoid overwhelming the API
        if i < args.end:
            print(f"\nâ³ ç­‰å¾… 3 ç§’åå¼€å§‹ä¸‹ä¸€ä¸ªå®éªŒ...")
            time.sleep(3)

    # â”€â”€ Summary â”€â”€
    print(f"\n{'='*60}")
    print(f"ğŸ“Š æ‰¹é‡å®éªŒæ€»ç»“")
    print(f"{'='*60}")

    all_strategies = []
    for r in all_results:
        for s in r.get("strategies", []):
            s["experiment_theme"] = r["theme"]
            all_strategies.append(s)

    total_strategies = len(all_strategies)
    done_experiments = sum(1 for r in all_results if r.get("status") == "done")
    failed_experiments = sum(1 for r in all_results if r.get("status") != "done")

    print(f"å®éªŒ: {done_experiments} æˆåŠŸ, {failed_experiments} å¤±è´¥")
    print(f"ç­–ç•¥æ€»æ•°: {total_strategies}")

    # High performers (>30% return)
    high_return = [s for s in all_strategies if s.get("total_return_pct", 0) > 30]
    high_return.sort(key=lambda x: x.get("total_return_pct", 0), reverse=True)

    print(f"\nğŸŒŸ æ€»æ”¶ç›Šç‡ > 30% çš„ç­–ç•¥ ({len(high_return)} ä¸ª):")
    for s in high_return:
        print(f"  {s['name']:40s} æ”¶ç›Š{s['total_return_pct']:+7.1f}% "
              f"å›æ’¤{s['max_drawdown_pct']:5.1f}% {s['total_trades']:3d}ç¬” "
              f"èƒœç‡{s['win_rate']:.0f}% å¾—åˆ†{s['score']:.2f} "
              f"â† {s['experiment_theme']}")

    # Top 20 by score
    all_strategies.sort(key=lambda x: x.get("score", 0), reverse=True)
    print(f"\nğŸ† å¾—åˆ† Top 20:")
    for i, s in enumerate(all_strategies[:20], 1):
        print(f"  {i:2d}. {s['name']:40s} å¾—åˆ†{s['score']:.2f} "
              f"æ”¶ç›Š{s['total_return_pct']:+7.1f}% "
              f"å›æ’¤{s['max_drawdown_pct']:5.1f}% "
              f"â† {s['experiment_theme']}")

    # Profitable strategies
    profitable = [s for s in all_strategies if s.get("total_return_pct", 0) > 0 and s.get("total_trades", 0) > 0]
    zero_trade = [s for s in all_strategies if s.get("total_trades", 0) == 0]
    print(f"\nğŸ“ˆ ç›ˆåˆ©ç­–ç•¥: {len(profitable)}/{total_strategies} ({len(profitable)/max(total_strategies,1)*100:.1f}%)")
    print(f"ğŸ“‰ é›¶äº¤æ˜“ç­–ç•¥: {len(zero_trade)}/{total_strategies} ({len(zero_trade)/max(total_strategies,1)*100:.1f}%)")

    # Save final summary
    summary = {
        "run_date": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
        "total_experiments": len(all_results),
        "done_experiments": done_experiments,
        "failed_experiments": failed_experiments,
        "total_strategies": total_strategies,
        "profitable_count": len(profitable),
        "zero_trade_count": len(zero_trade),
        "high_return_count": len(high_return),
        "high_return_strategies": high_return,
        "top20_by_score": all_strategies[:20],
        "experiments": all_results,
    }

    with open(args.output, "w", encoding="utf-8") as f:
        json.dump(summary, f, ensure_ascii=False, indent=2)

    print(f"\nâœ… ç»“æœå·²ä¿å­˜åˆ° {args.output}")
    print(f"   ç»“æŸæ—¶é—´: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")


if __name__ == "__main__":
    main()
